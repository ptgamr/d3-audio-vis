<div class="container" ng-controller="SongCtrl">
  <ul class="tabs">
    <li ng-click="toggleTab('search')" class="ilb pointer" ng-class="{active: activeTab('search')}">Search</li>
    <li ng-click="toggleTab('url')" class="ilb pointer" ng-class="{active: activeTab('url')}">Servers</li>
    <li ng-click="toggleTab('vis')" class="ilb pointer" ng-class="{active: activeTab('vis')}">Visualizer</li>
  </ul>
  <div class="main_window ilb clearfix float-left" ng-style="variableWidth()">
    <div ng-show="activeTab('search')">
      <span class="float-right">
        <input class="js-search-form input" ng-model="searchText" placeholder="Search" type="text">
        <i ng-click="searchServers()" class="glyphicon glyphicon-refresh pointer"></i>
      </span>
      <h2 class="ilb">Songs</h2>
      <span class="float-right">
        <input class="input" ng-show="songs.length" ng-model="filterText" placeholder="Filter Results" type="text">
      </span>
      <div class="table-container">
        <table class="search">
          <tr class="headers">
            <th class="pointer"
              ng-click='sortService.setPredicate("Track")'>Track</th>
            <th class="pointer"
              ng-click='sortService.setPredicate("Name")'>Name</th>
            <th class="pointer"
              ng-click='sortService.setPredicate(["Album", "Track"])'>Album</th>
            <th class="pointer"
              ng-click='sortService.setPredicate(["Artist", "Album", "Track"])'>Artist</th>
            <th class="pointer"
              ng-click='sortService.setPredicate("Genre")'>Genre</th>
          </tr>
          <tr
            ng-repeat="song in songs | filter:filterText |
            orderBy:sortService.predicate():sortService.reverse()"
            class="pointer"
            ng-class="{odd: $odd}"
            ng-click="queue(song)">
            <td>{{song.Track}}</td>
            <td>{{song.Name}}</td>
            <td>{{song.Album}}</td>
            <td>{{song.Artist}}</td>
            <td>{{song.Genre}}</td>
          </tr>
        </table>
      </div>
    </div>

    <div class='unit float-left' ng-show="activeTab('url')">
      <h2>Current Servers</h2>
      <div class="lh1 ilb">
        <input class="input" ng-model="serverUrl" placeholder="Add Server" type="text">
        <i ng-click="addServer(serverUrl)" class="glyphicon glyphicon-plus pointer"></i>
      </div>
      <div class="ilb">
        <ul>
          <li ng-repeat="server in servers track by $index">
            {{server}}
            <i ng-click="removeServer($index)" class="glyphicon glyphicon-remove pointer"></i>
          </li>
        </ul>
      </div>
    </div>

    <div class='unit float-left' ng-show="activeTab('vis')">
      <circles width="960" height="560" data="data" frequency-data="array" update="update"></circles>
    </div>
  </div>

  <playlist audio="audio" array="array" songs="selectedSongs" class="float-left" ng-show="selectedSongs.length"></playlist>
  <progress-bar audio="audio"></progress-bar>

</div>
